# Calculator Logic (Draft)

Charms
- Defaults embedded; CSV override via `charms_costs.csv`
- sumCosts: from level exclusive, to level inclusive; totals guides/designs/secrets/svsPoints; power = target level power only

Chief Gear
- Ordered level list (Green -> Red tiers); defaults generated by index; CSV override via `chief_gear_costs.csv`
- sumCosts: index-based accumulation; returns null on invalid ranges

Fire Crystals
- Data rows per building/level with fc/rfc values; inline JS preferred, CSV fallback
- sumRange: slice levelsArray from fromLevel..toLevel inclusive; sums fc and rfc; null on invalid ranges

Profiles
- ProfilesModule handles autosave (not refactored here); calculators call autosave on input change

Formatting
- Number formatting and icon labels should be centralized (helpers) for consistent rendering
## Fire Crystals (YOLO update)
- Data: ire_crystals_steps.json (per-step FC/ RFC / resources / timeSeconds) generated via scripts/extract-fire-crystals-steps.js from building sheets (FC rows).
- Calculation: sum real per-step values from (from+1) to target inclusive (FC1->FC2 sums FC1-1..FC1-4 + FC2; FC9-1->FC10 sums remaining FC9 substeps + FC10). No proportional time splitting.
