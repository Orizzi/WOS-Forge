!function(){"use strict";const e={marksman:"#f68b1e",infantry:"#3ec66f",lancer:"#4ea8ff"},t={marksman:"Marksman",infantry:"Infantry",lancer:"Lancer"},n=e=>{const t=("number"==typeof e?e:Number(e||0))/16;if(!isFinite(t)||0===t)return"0";return`${parseFloat(t.toFixed(4))}em`};let o="marksman";const s={},a={fc:0,meat:0,wood:0,coal:0,iron:0,steel:0,speedups:0,reduction:0};let i=null,r=null,l=null,c=null;const d="wos-war-lab-last-state";function m(e){if(!e)return null;const t=Object.entries(e);if(!t.length)return null;const[n,o]=t[0];return`${n}: ${"number"==typeof o?o.toFixed(2):o}`}function u(){if(window.ProfilesModule&&"function"==typeof window.ProfilesModule.autoSaveCurrentProfile)try{window.ProfilesModule.autoSaveCurrentProfile()}catch(e){}f()}function f(){try{const e=p();localStorage.setItem(d,JSON.stringify(e))}catch(e){}}function p(){return{selections:{...s},inventory:{...a}}}function y(e){if(!e)return;Object.keys(s).forEach(e=>delete s[e]),Object.assign(s,e.selections||{}),Object.assign(a,e.inventory||{});Object.entries({fc:"inventory-fc",meat:"inventory-meat",wood:"inventory-wood",coal:"inventory-coal",iron:"inventory-iron",steel:"inventory-steel",speedups:"inventory-speedups",reduction:"inventory-reduction"}).forEach(([t,n])=>{const o=document.getElementById(n);o&&(o.value=e.inventory&&null!=e.inventory[t]?e.inventory[t]:0)}),w(),$(),L(),f()}function h(e){const t=Math.floor(e/86400),n=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=[];return t&&s.push(`${t}d`),n&&s.push(`${n}h`),(o||!t&&!n)&&s.push(`${o}m`),s.join(" ")}function g(e,t){if(!e||!t)return;v(),l=t.id;const o=document.createElement("div");o.className="helios-editor-portal",o.style.position="absolute",o.style.inset="0",o.style.zIndex="3000",o.style.pointerEvents="none",r=document.createElement("div"),r.className="helios-editor-pop",r.style.position="absolute",r.style.zIndex="3100",r.style.background="rgba(15,31,53,0.95)",r.style.border=`${n(1)} solid var(--border, #0af)`,r.style.borderRadius=n(8),r.style.boxShadow=`0 ${n(8)} ${n(24)} rgba(0,0,0,0.55)`,r.style.padding=n(8),r.style.display="flex",r.style.gap=n(8),r.style.alignItems="center",r.style.pointerEvents="auto";const a=s[t.id]||{start:0,end:0},i=document.createElement("select"),d=document.createElement("select"),m=(e,t,n,o)=>{e.innerHTML="";for(let s=t;s<=n;s++){const t=document.createElement("option");t.value=String(s),t.textContent=String(s),s===o&&(t.selected=!0),e.appendChild(t)}};m(i,0,t.maxLevel,a.start),m(d,a.start,t.maxLevel,a.end);i.addEventListener("change",()=>{const e=parseInt(i.value,10),n=parseInt(d.value,10),o=Math.max(0,Math.min(isNaN(e)?0:e,t.maxLevel)),a=Math.max(o,Math.min(isNaN(n)?o:n,t.maxLevel));m(d,o,t.maxLevel,a),s[t.id]={start:o,end:a},$(),L(),w(),u()}),d.addEventListener("change",()=>{const e=parseInt(i.value,10),n=parseInt(d.value,10),o=Math.max(0,Math.min(isNaN(e)?0:e,t.maxLevel)),a=Math.max(o,Math.min(isNaN(n)?o:n,t.maxLevel));s[t.id]={start:o,end:a},$(),L(),w(),u()});const f=document.createElement("label");f.style.fontSize=n(11),f.style.color="var(--text,#e8f4f8)",f.textContent="From",f.appendChild(i);const p=document.createElement("label");p.style.fontSize=n(11),p.style.color="var(--text,#e8f4f8)",p.textContent="To",p.appendChild(d),r.appendChild(f),r.appendChild(p),o.appendChild(r),(document.body||document.documentElement).appendChild(o);const y=e.getBoundingClientRect(),h=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;r.style.left=n(y.left+h),r.style.top=n(y.bottom+g+6);const b=e=>{r&&!r.contains(e.target)&&v()};c=b,setTimeout(()=>document.addEventListener("click",b,!0),0)}function v(){if(c&&(document.removeEventListener("click",c,!0),c=null),r){const e=r.parentElement;r.remove(),e&&e.parentElement===document.body&&e.remove()}r=null,l=null}function b(){document.querySelectorAll("#branch-tabs .tab").forEach(e=>{const t=e.getAttribute("data-branch");e.classList.toggle("is-active",t===o),e.setAttribute("aria-selected",t===o?"true":"false"),e.onclick=()=>{t!==o&&(o=t,i=null,b(),w(),x(),$(),L())}})}function w(){const a=document.getElementById("helios-tree");if(!a||!window.WOSData?.helios)return;const r=window.innerWidth>=1024,l=r?window.WOSData.helios.branches:[o];a.innerHTML="",a.style.position="relative",a.style.overflowX=r?"visible":"auto",a.style.overflowY=r?"visible":"hidden",a.style.display=r?"grid":"flex",a.style.gridTemplateColumns=r?"repeat(3, minmax(17.5em, 1fr))":"",a.style.gap=r?n(16):"0",a.style.justifyContent="center",a.style.alignItems=r?"start":"flex-start",a.style.minHeight="50vh",a.style.width="100%",l.forEach(o=>{const l=(window.WOSData?.helios?.nodes||[]).filter(e=>e.branch===o);if(!l.length)return;const c=r?68:56,d=r?20:16,f=Math.min(...l.map(e=>e.position.x)),p=Math.max(...l.map(e=>e.position.x)),y=Math.min(...l.map(e=>e.position.y)),h=Math.max(...l.map(e=>e.position.y)),v=(p-f+1)*c+2*d,b=(h-y+1)*c+2*d,S=document.createElement("div");S.style.position="relative",S.style.padding=n(8),S.style.display="flex",S.style.flexDirection="column",S.style.alignItems="center";const E=document.createElement("div");E.textContent=t[o],E.style.marginBottom=r?n(8):"0",E.style.fontWeight="700",E.style.color=r?e[o]:"transparent",S.appendChild(E);const O=document.createElement("div");O.style.position="relative",O.style.width=n(v),O.style.height=n(b),O.style.margin="0 auto",O.style.transformOrigin="top",O.style.transform=r?"":"scale(1.3)",S.appendChild(O);const C=document.createElementNS("http://www.w3.org/2000/svg","svg");C.setAttribute("width",`${v}`),C.setAttribute("height",`${b}`),C.style.position="absolute",C.style.top="0",C.style.left="0",O.appendChild(C),l.forEach(t=>{t.parents.forEach(n=>{const o=l.find(e=>e.id===n);if(!o)return;const s=d+(o.position.x-f)*c+c/2,a=d+(o.position.y-y)*c+c/2,i=d+(t.position.x-f)*c+c/2,r=d+(t.position.y-y)*c+c/2,m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1",s),m.setAttribute("y1",a),m.setAttribute("x2",i),m.setAttribute("y2",r),m.setAttribute("stroke",e[t.branch]||"#888"),m.setAttribute("stroke-width","4"),m.setAttribute("stroke-linecap","round"),C.appendChild(m)})});const M=r?60:56,N={};l.forEach(o=>{const a="unlock"===o.variant?M+10:M,r=o.icon||"assets/app-icon.png",l=document.createElement("button");l.className="tree-node",l.style.position="absolute",l.style.left=n(d+(o.position.x-f)*c-a/2+c/2),l.style.top=n(d+(o.position.y-y)*c-a/2+c/2),l.style.width=n(a),l.style.height=n(a),l.style.border=`${n(3)} solid ${e[o.branch]||"#fff"}`,l.style.borderRadius=n(14),l.style.background="rgba(255,255,255,0.08)",l.style.backdropFilter=`blur(${n(4)})`,l.style.cursor="pointer",l.style.display="flex",l.style.flexDirection="column",l.style.alignItems="center",l.style.justifyContent="flex-start",l.style.overflow="visible",l.style.padding="0",l.style.transition="transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease",l.setAttribute("data-id",o.id);const p=s[o.id],h=p?`${p.start} -> ${p.end}`:"0 -> 0",v=!!p&&(p.start>0||p.end>0)?"rgba(0,217,255,0.75)":"rgba(0,0,0,0.45)";l.innerHTML=`\n          <div style="position:relative;width:100%;height:100%;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;overflow:hidden;border-radius:inherit;">\n            <div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;">\n              <img src="${r}" alt="${o.name}" onerror="this.src='../assets/app-icon.png';" style="width:100%;height:100%;object-fit:contain;display:block;">\n            </div>\n            <div style="position:absolute;left:0;right:0;bottom:0;background:${v};color:#fff;font-size:${n(10)};line-height:1.1;padding:${n(1)} ${n(3)};text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">\n              ${h}\n            </div>\n          </div>\n          `;!!s[o.id]&&(l.style.boxShadow=`0 0 0 ${n(3)} ${e[o.branch]}55, 0 ${n(10)} ${n(22)} rgba(0,0,0,0.45)`);const b=m(o.levels&&o.levels[0]&&o.levels[0].stats||{})||"Stat";l.title=`${o.name} (${t[o.branch]})\nMax level: ${o.maxLevel}\n${b}`,l.addEventListener("click",e=>{var t;e.stopPropagation(),t=o.id,window.WOSData.helios.nodeMap[t]&&(i=t,s[t]||(s[t]={start:0,end:0}),x(),$(),L(),w(),u()),g(l,o)}),l.addEventListener("mouseenter",()=>{l.style.transform="scale(1.04)"}),l.addEventListener("mouseleave",()=>{l.style.transform="scale(1)"}),O.appendChild(l),N[o.id]={btn:l,node:o}}),requestAnimationFrame(()=>{const e=.9*(a.clientWidth/(r?3:1)-24),t=1.2*(e>0?e/v:1),n=Math.min(1.25,Math.max(.9,t));O.style.transform=`scale(${n})`,i&&N[i]&&g(N[i].btn,N[i].node)}),a.appendChild(S)})}function x(){const e=document.getElementById("selection-panel");e&&(e.innerHTML="<p>Ranges are edited directly on each node. Click a node to set From -> To.</p>")}function $(){const t=document.getElementById("selection-list");if(!t)return;t.innerHTML="";const o=Object.entries(s);if(!o.length){const e=document.createElement("li");return e.className="gift-code-log__item",e.textContent="No active selections. Pick nodes in the tree to begin.",void t.appendChild(e)}o.map(([e,t])=>({id:e,range:t,node:window.WOSData.helios.nodeMap[e]})).filter(e=>e.node).sort((e,t)=>e.node.branch.localeCompare(t.node.branch)||e.node.name.localeCompare(t.node.name)).forEach(({id:o,range:s,node:a})=>{const i=window.WOSData.helios.sumRange(o,s.start,s.end)||null,r=i?m(i.stats):null,l=document.createElement("li");l.className="gift-code-log__item",l.style.display="grid",l.style.gridTemplateColumns="auto 1fr",l.style.alignItems="center",l.style.gap=n(8),l.innerHTML=`\n          <img src="${a.icon}" alt="${a.name}" style="width:${n(42)};height:${n(42)};object-fit:contain;">\n          <div>\n            <div style="display:flex;justify-content:space-between;align-items:center;gap:${n(8)};">\n              <strong>${a.name}</strong>\n              <span style="color:${e[a.branch]};text-transform:capitalize;">${a.branch}</span>\n            </div>\n            <div style="margin-top:${n(4)};font-size:${n(12)};color:var(--muted-text);">\n              Range: ${s.start} -> ${s.end} / ${a.maxLevel}${r?` • ${r}`:""}${i?` • Time: ${h(i.timeSeconds)}`:""}\n            </div>\n          </div>\n        `,t.appendChild(l)})}function S(o){const s=document.getElementById("stat-recap-grid");if(!s)return;s.innerHTML="";["marksman","infantry","lancer"].forEach(a=>{const i=o?.[a]||{},r=Object.entries(i).filter(([,e])=>e),l=0===r.length?'<li class="muted">No stats selected.</li>':r.map(([e,t])=>`<li>${((e,t)=>{const n=e.includes("%");return`<strong>${e.replace("%","").trim()}</strong>: +${n?`${t.toFixed(2)}%`:t.toFixed(2)}`})(e,t)}</li>`).join(""),c=document.createElement("div");c.className="stat-col",c.innerHTML=`\n        <h4 style="margin:0 0 ${n(6)};color:${e[a]};">${t[a]}</h4>\n        <ul class="stat-list">${l}</ul>\n      `,s.appendChild(c)})}function L(){const e=document.getElementById("summary-content"),t=document.getElementById("costs-cards");if(!e||!t)return;if(!(Object.keys(s).length>0))return void function(){const e=document.getElementById("summary-content");if(!e)return;e.querySelector(".gift-code-status-text").textContent="Select a node and set a level range to see totals here.";const t=document.getElementById("costs-cards");t&&(t.innerHTML="");const n=document.getElementById("war-lab-slot-body"),o=document.getElementById("war-lab-slot-foot");n&&(n.innerHTML=""),o&&(o.innerHTML="");const s=document.getElementById("power-pill"),a=document.getElementById("svs-pill");s&&(s.textContent="Total Power: 0"),a&&(a.textContent="Total SvS Points: 0"),S(null)}();const{totals:o,branchStats:i}=function(){const e={fc:0,meat:0,wood:0,coal:0,iron:0,steel:0,timeSeconds:0,power:0,svsPoints:0,stats:{}},t={marksman:{},infantry:{},lancer:{}};for(const[n,o]of Object.entries(s)){const[s]=n.split("-"),a=window.WOSData.helios.sumRange(n,o.start,o.end);if(a){e.fc+=a.fc,e.meat+=a.meat,e.wood+=a.wood,e.coal+=a.coal,e.iron+=a.iron,e.steel+=a.steel,e.timeSeconds+=a.timeSeconds,e.power+=a.power;for(const[n,o]of Object.entries(a.stats||{}))e.stats[n]=(e.stats[n]||0)+o,t[s][n]=(t[s][n]||0)+o}}return{totals:e,branchStats:t}}(),r=a,l=e.querySelector(".gift-code-status-text");l&&(l.textContent="");const c=[{label:"Meat",key:"meat",icon:"assets/resources/base/meat.png"},{label:"Wood",key:"wood",icon:"assets/resources/base/wood.png"},{label:"Coal",key:"coal",icon:"assets/resources/base/coal.png"},{label:"Iron",key:"iron",icon:"assets/resources/base/iron.png"},{label:"Steel",key:"steel",icon:"assets/resources/base/steel.png"},{label:"FCs",key:"fc",icon:"assets/resources/base/fire-crystal-shards.png"}].map(e=>{const t=o[e.key]||0;return`\n          <div class="summary-pill">\n            <div class="label-with-icon" style="gap:${n(8)};">\n              <img class="res-icon" src="${e.icon}" alt="${e.label}">\n              <strong>${e.label}: ${t.toLocaleString()}</strong>\n            </div>\n          </div>\n        `}).join(""),d=100/(100+((r.reduction||0)+Object.entries(o.stats||{}).filter(([e])=>e.toLowerCase().includes("research")).reduce((e,[,t])=>e+t,0)||0)),m=o.timeSeconds*d,u=24*Number(r.speedups||0)*60*60,f=m-u,p=f>0?"gap-line deficit":"gap-line surplus",y=Math.abs(f)/86400,g=f>0?`⚠ need ${y.toFixed(1)} days more`:`left ${y.toFixed(1)} days`,v=Math.min(u,m)/60*30,b=1e3*(o.fc||0);o.svsPoints=Math.round(v+b);const w=`\n      <div class="summary-pill span-2">\n        <strong>Time (after research): ${h(m)}</strong>\n        <div class="${p}" style="margin-top:${n(4)};">${g}</div>\n      </div>\n    `,x=`\n      <div class="summary-pill accent">\n        <strong>Total Power: ${o.power.toLocaleString()}</strong>\n      </div>\n    `,$=`\n      <div class="summary-pill accent">\n        <strong>Total SvS Points: ${o.svsPoints.toLocaleString()}</strong>\n      </div>\n    `;t.innerHTML=c+w+x+$,function(e){const t=document.getElementById("helios-slot-table"),o=t?.querySelector("thead"),a=document.getElementById("war-lab-slot-body"),i=document.getElementById("war-lab-slot-foot");if(o&&(o.innerHTML="\n        <tr>\n          <th>Icon</th>\n          <th>Name</th>\n          <th>From</th>\n          <th>To</th>\n          <th>Meat</th>\n          <th>Wood</th>\n          <th>Coal</th>\n          <th>Iron</th>\n          <th>Steel</th>\n          <th>FCs</th>\n          <th>Power</th>\n          <th>SvS</th>\n        </tr>\n      "),!a||!i)return;a.innerHTML="",i.innerHTML="";const r=Object.entries(s);if(!r.length)return void(a.innerHTML='<tr><td colspan="12">No slots selected yet.</td></tr>');const l=r.map(([e,t])=>({id:e,range:t,node:window.WOSData.helios.nodeMap[e]})).filter(e=>e.node).filter(e=>e.range.start<e.range.end).sort((e,t)=>e.node.branch.localeCompare(t.node.branch)||e.node.name.localeCompare(t.node.name));if(!l.length)return void(a.innerHTML='<tr><td colspan="12">No slots selected yet.</td></tr>');const c=l.map(({id:e,range:t,node:o})=>{const s=window.WOSData.helios.sumRange(e,t.start,t.end)||{};return`\n          <tr>\n            <td class="col-icon"><img src="${o.icon}" alt="${o.name}" style="width:${n(34)};height:${n(34)};object-fit:contain;"></td>\n            <td class="col-name">${o.name}</td>\n            <td>${t.start}</td>\n            <td>${t.end}</td>\n            <td>${(s.meat||0).toLocaleString()}</td>\n            <td>${(s.wood||0).toLocaleString()}</td>\n            <td>${(s.coal||0).toLocaleString()}</td>\n            <td>${(s.iron||0).toLocaleString()}</td>\n            <td>${(s.steel||0).toLocaleString()}</td>\n            <td>${(s.fc||0).toLocaleString()}</td>\n            <td>${(s.power||0).toLocaleString()}</td>\n            <td>${(s.svsPoints||0).toLocaleString()}</td>\n          </tr>\n        `}).join("");a.innerHTML=c,e&&(i.innerHTML=`\n        <tr>\n          <td colspan="2"><strong>Totals</strong></td>\n          <td></td>\n          <td></td>\n          <td>${(e.meat||0).toLocaleString()}</td>\n          <td>${(e.wood||0).toLocaleString()}</td>\n          <td>${(e.coal||0).toLocaleString()}</td>\n          <td>${(e.iron||0).toLocaleString()}</td>\n          <td>${(e.steel||0).toLocaleString()}</td>\n          <td>${(e.fc||0).toLocaleString()}</td>\n          <td>${(e.power||0).toLocaleString()}</td>\n          <td>${(e.svsPoints||0).toLocaleString()}</td>\n        </tr>\n      `)}(o),S(i)}window.WarLabProfile={captureState:p,applyState:y},window.WarLabCalculator={calculateAll:L,isActive:()=>!!document.querySelector(".war-lab-page")},window.WOSCalcCore&&"function"==typeof window.WOSCalcCore.registerAdapter&&window.WOSCalcCore.registerAdapter({id:"warLab",isActive:()=>!!document.querySelector(".war-lab-page"),run:()=>L()}),document.addEventListener("DOMContentLoaded",()=>{(async function(){if(window.WOSData&&window.WOSData.helios&&window.WOSData.helios.nodes)return;const e=window.WOSData&&window.WOSData.loader;if(!e||!e.loadCsv)return;const t=await e.loadCsv("assets/war_lab_unified.csv");if(!t||!t.header||!t.rows||0===t.rows.length)return;const n=t.header.map(e=>(e||"").toLowerCase()),o={id:n.indexOf("id"),branch:n.indexOf("branch"),name:n.indexOf("name"),maxLevel:n.indexOf("maxlevel"),parents:n.indexOf("parents"),variant:n.indexOf("variant"),isUnlock:n.indexOf("isunlocknode"),category:n.indexOf("category"),row:n.indexOf("row"),col:n.indexOf("col"),icon:n.indexOf("icon"),level:n.indexOf("level"),statKey:n.indexOf("statkey"),statValue:n.indexOf("statvalue"),power:n.indexOf("power"),svsPoints:n.indexOf("svspoints"),fc:n.indexOf("costfc"),meat:n.indexOf("costmeat"),wood:n.indexOf("costwood"),coal:n.indexOf("costcoal"),iron:n.indexOf("costiron"),steel:n.indexOf("coststeel"),timeSeconds:n.indexOf("timeseconds")};if(Object.values(o).some(e=>-1===e))return;const s={};t.rows.forEach(e=>{const t=e[o.id];if(!t)return;const n=s[t]||{id:t,branch:e[o.branch],name:e[o.name],maxLevel:Number(e[o.maxLevel])||0,parents:e[o.parents]?e[o.parents].split("|").filter(Boolean):[],variant:e[o.variant],isUnlockNode:"true"===e[o.isUnlock]||!0===e[o.isUnlock],category:e[o.category],row:Number(e[o.row])||0,col:Number(e[o.col])||0,icon:e[o.icon],levels:[]},a={level:Number(e[o.level])||0,stats:e[o.statKey]?{[e[o.statKey]]:Number(e[o.statValue])||0}:{},power:Number(e[o.power])||0,svsPoints:Number(e[o.svsPoints])||0,costs:{fc:Number(e[o.fc])||0,meat:Number(e[o.meat])||0,wood:Number(e[o.wood])||0,coal:Number(e[o.coal])||0,iron:Number(e[o.iron])||0,steel:Number(e[o.steel])||0},timeSeconds:Number(e[o.timeSeconds])||0};n.levels.push(a),n.maxLevel=Math.max(n.maxLevel||0,a.level||0),s[t]=n});const a=Object.values(s).map(e=>(e.levels.sort((e,t)=>(e.level||0)-(t.level||0)),e)),i=Object.fromEntries(a.map(e=>[e.id,e]));window.WOSData=window.WOSData||{},window.WOSData.helios={branches:Array.from(new Set(a.map(e=>e.branch).filter(Boolean))),slotTemplate:[],nodes:a,nodeMap:i,sumRange:function(e,t,n){const o=i[e];if(!o||t>=n)return null;const s=o.levels.filter(e=>"number"==typeof e.level&&e.level>t&&e.level<=n),a={fc:0,meat:0,wood:0,coal:0,iron:0,steel:0,timeSeconds:0,stats:{},power:0,svsPoints:0};return s.forEach(e=>{a.fc+=e.costs.fc||0,a.meat+=e.costs.meat||0,a.wood+=e.costs.wood||0,a.coal+=e.costs.coal||0,a.iron+=e.costs.iron||0,a.steel+=e.costs.steel||0,a.timeSeconds+=e.timeSeconds||0,a.power+=e.power||0,Object.entries(e.stats||{}).forEach(([e,t])=>{a.stats[e]=(a.stats[e]||0)+t})}),a}}})().then(()=>{b(),w(),x(),$(),L(),function(){const e=document.getElementById("reset-selections");e&&e.addEventListener("click",()=>{Object.keys(s).forEach(e=>delete s[e]),o="marksman",i=null,b(),x(),$(),L(),w(),u()})}(),function(){const e=(e,t)=>("string"!=typeof e&&(e=String(e??"")),e.replace(/\D/g,"").slice(0,t)),t=(t,n,o)=>{"inventory-fc"===t?o.value=e(o.value,7):"inventory-steel"===t&&(o.value=e(o.value,10));const s=parseInt(o.value||"0",10);a[n]=isNaN(s)?0:s,L(),u()};[["inventory-fc","fc"],["inventory-meat","meat"],["inventory-wood","wood"],["inventory-coal","coal"],["inventory-iron","iron"],["inventory-steel","steel"],["inventory-speedups","speedups"],["inventory-reduction","reduction"]].forEach(([e,n])=>{const o=document.getElementById(e);o&&(o.addEventListener("input",()=>t(e,n,o)),o.addEventListener("change",()=>t(e,n,o)))})}(),function(){try{const e=localStorage.getItem(d);if(!e)return;y(JSON.parse(e))}catch(e){}}(),window.addEventListener("resize",()=>{w()})})})}();