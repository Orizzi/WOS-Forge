!function(){"use strict";const e={};function t(e){try{return e()}catch(e){return void console.warn("[CalcCore] adapter failed",e)}}function n({id:t,isActive:n,run:a}){t&&"function"==typeof a&&(e[t]={isActive:n,run:a})}function a(){let n=!1;return Object.entries(e).forEach(([,e])=>{("function"!=typeof e.isActive||t(e.isActive))&&(t(e.run),n=!0)}),n||Object.values(e).forEach(e=>t(e.run)),n}function l(){l._scheduled||(l._scheduled=!0,requestAnimationFrame(()=>{l._scheduled=!1,a()}))}function c(){document.querySelectorAll('input[id^="inventory-"]').forEach(e=>{e.addEventListener("input",l),e.addEventListener("change",l)})}function r(){const e=new Set(["profiles-list","language-selector","profile-name"]);document.querySelectorAll("input, select, textarea").forEach(t=>{e.has(t.id)||"button"!==t.type&&"submit"!==t.type&&"reset"!==t.type&&(t.addEventListener("input",l),t.addEventListener("change",l))})}n({id:"charms",isActive:()=>!!document.querySelector('select[id*="-charm-"]'),run:()=>{window.CalculatorModule&&"function"==typeof window.CalculatorModule.calculateAll&&window.CalculatorModule.calculateAll()}}),n({id:"chiefGear",isActive:()=>!!document.getElementById("helmet-start"),run:()=>{window.ChiefGearCalculator&&"function"==typeof window.ChiefGearCalculator.calculateAll&&window.ChiefGearCalculator.calculateAll()}}),n({id:"fireCrystals",isActive:()=>!!document.getElementById("furnace-start"),run:()=>{window.FireCrystalsCalculator&&"function"==typeof window.FireCrystalsCalculator.calculateAll&&window.FireCrystalsCalculator.calculateAll()}}),n({id:"warLab",isActive:()=>!!document.querySelector(".war-lab-page"),run:()=>{window.WarLabCalculator&&"function"==typeof window.WarLabCalculator.calculateAll&&window.WarLabCalculator.calculateAll()}}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{c(),r()},{once:!0}):(c(),r()),window.WOSCalcCore={registerAdapter:n,run:function(n){const a=e[n];return!!a&&(t(a.run),!0)},runActive:a,runAll:function(){Object.values(e).forEach(e=>t(e.run))}}}();