:root{--bg:#0a1628;--panel:#0f1f35;--muted:#1a2d47;--accent:#00d9ff;--accent-secondary:#0099cc;--text:#e8f4f8;--muted-text:#a8c5d4;--card:rgb(0 217 255 / 5%);--success:#00d9ff;--danger:#ff7b7b;--border:rgb(0 217 255 / 12%);--shadow:rgb(0 0 0 / 30%)}body.light-theme,html.light-theme{--bg:#e8f4f8;--panel:#d4ebf0;--muted:#c0dde5;--accent:#0099cc;--accent-secondary:#00d9ff;--text:#0a1628;--muted-text:#1a2d47;--card:rgb(0 153 204 / 8%);--success:#00b8d4;--danger:#ff6b6b;--border:rgb(0 153 204 / 20%);--shadow:rgb(0 153 204 / 15%)}body{font-family:Inter,Arial,sans-serif;background-color:var(--bg);color:var(--text);margin:0;padding:0}.results-wrap{margin:16px;background:color-mix(in srgb,var(--panel) 80%,transparent);box-shadow:0 4px 14px var(--shadow)}.results-table thead th{background:color-mix(in srgb,var(--panel) 92%,transparent);text-align:left;font-weight:700;background:linear-gradient(90deg,var(--card),transparent);position:sticky;top:0;backdrop-filter:blur(2px)}.results-table tbody td,.results-table thead th{padding:10px 12px;border-bottom:1px solid var(--border)}.results-table tbody tr:nth-child(even){background:color-mix(in srgb,var(--card) 70%,transparent)}.results-table tfoot td{padding:12px;font-weight:700;border-top:2px solid var(--border)}.results-table td:nth-child(n+4),.results-table th:nth-child(n+4){text-align:right}.results-table td:nth-child(-n+3),.results-table th:nth-child(-n+3){text-align:left}.results-table thead th.sorted-asc::after{content:" ▲";opacity:.8}.results-table thead th.sorted-desc::after{content:" ▼";opacity:.8}.csv-status{display:inline-flex;align-items:center;gap:6px;margin-left:10px;padding:4px 10px;border-radius:999px;font-size:.85rem;border:1px solid var(--border);background:color-mix(in srgb,var(--panel) 80%,transparent);color:var(--text)}.csv-status[data-status=ok]{border-color:rgba(0,200,140,.4);box-shadow:inset 0 0 0 999px rgba(0,200,140,.08)}.csv-status[data-status=warn]{border-color:rgba(255,180,0,.45);box-shadow:inset 0 0 0 999px rgba(255,180,0,.06)}.csv-status[data-status=loading]{opacity:.8}.inventory-profiles-row{flex-wrap:wrap}.inventory-section{flex:1 1 480px;order:1}.profiles{flex:1 1 420px;order:2}@media (min-width:900px){.inventory-section{order:1}.profiles{order:2}}.profiles .profiles-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px}.input-with-icon,.select-with-icon{gap:6px}.icon-button{padding:10px 12px;min-width:40px}@media (min-width:1100px){.inventory-grid.compact{grid-template-columns:repeat(4,minmax(0,1fr))}}.inventory-item label{font-size:.95rem;opacity:.9}.inventory-item input[type=number]{width:100%;box-sizing:border-box;text-align:right}.inventory-section .inventory-row{display:flex;align-items:center;gap:12px;overflow-x:auto;padding-bottom:4px}.inventory-section .inventory-row h3{flex:0 0 auto;margin:0}.inventory-section .inventory-row .inventory-inputs{display:flex;align-items:center;gap:12px;flex-wrap:nowrap}.inventory-section .inventory-row .inventory-item{flex:0 0 auto;min-width:200px}.inventory-section .inventory-row button.secondary,.main-nav #dark-mode-toggle{margin-left:auto}main{background-image:url(../assets/background.png);background-size:cover;background-position:center top;background-attachment:fixed;background-repeat:no-repeat;min-height:100vh}.title,h1,h2,h3,h4,h5,h6{color:var(--text);display:flex;justify-content:center}h1,h2,h3,h4,h5,h6{padding-top:1%;padding-bottom:1%}.title{text-align:center;text-decoration:none;padding-bottom:10px;margin:20px auto auto}header[role=banner]{background:var(--panel);padding:0;box-shadow:0 2px 8px var(--shadow);position:relative;z-index:100;overflow:hidden;height:170px;width:100%}.logo-link,.site-logo{width:100%;display:block}.logo-link,header[role=banner]{display:flex;align-items:center;justify-content:center}.logo-link{height:100%}.site-logo{height:170px;object-fit:cover}.main-nav{position:sticky;top:0;z-index:50;display:flex;align-items:center;justify-content:flex-start;padding:10px 14px;background:color-mix(in srgb,var(--panel) 88%,transparent);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom:1px solid var(--border);box-shadow:0 6px 20px rgb(0 0 0/12%);gap:8px}.dark-mode-toggle,.main-nav a{display:inline-flex;align-items:center;justify-content:center}.main-nav a{color:var(--text);text-decoration:none;padding:8px 12px;margin:0;border-radius:999px;border:1px solid transparent;background:0 0;position:relative}.main-nav a::after{content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;background:currentColor;opacity:0;transform:scaleX(0);transform-origin:left center;transition:transform 200ms ease,opacity 150ms ease}.main-nav a:hover{background:var(--muted);transform:translateY(-1px)}.main-nav a:hover::after{opacity:.6;transform:scaleX(1)}.main-nav a[aria-current=page]{background:var(--accent);color:#fff;border-color:color-mix(in srgb,var(--accent) 70%,transparent)}.main-nav a[aria-current=page]::after{opacity:0;transform:scaleX(0)}.main-nav .dark-mode-toggle,.main-nav a,.main-nav select{font-size:.95rem}.dark-mode-toggle{background-color:var(--accent);border:0;border-radius:6px;color:#fff;margin:1px 10px;padding:10px 16px;cursor:pointer;font:inherit;font-weight:600;transition:all 150ms ease;box-shadow:0 2px 8px rgb(0 0 0/20%);gap:6px}.dark-mode-toggle:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgb(0 0 0/25%);filter:brightness(1.1);text-decoration:none}.dark-mode-toggle:active{transform:translateY(0);box-shadow:0 2px 6px rgb(0 0 0/20%)}.dark-mode-toggle:focus{outline:3px solid rgb(124 108 255/50%);outline-offset:2px;box-shadow:0 2px 8px rgb(0 0 0/20%),0 0 0 3px rgb(124 108 255/20%)}.muted{color:var(--text);opacity:.85}p{line-height:1.6;margin:10px 20px}.introduction{background-color:var(--panel);padding:20px;margin:20px;border-radius:5px}.introduction,.main-nav,.main-nav a,.title,body,p{transition:background-color 200ms ease,color 200ms ease,border-color 200ms ease}button,input[type=button],select{cursor:pointer;font-size:1em;font-family:inherit}select{border-radius:6px;background-color:var(--muted);color:var(--text);border:1px solid var(--border);appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e9eef8' stroke-width='2'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 8px center;background-size:16px;padding:8px 32px 8px 10px;transition:background-color 150ms ease,border-color 150ms ease}body.light-theme select,html.light-theme select{background-color:#fff;color:#111;border:1px solid #dcdde6;background-image:none;appearance:auto;padding-right:10px}button,input[type=button]{padding:12px 20px;font-weight:600;letter-spacing:.5px;transition:all 120ms ease;border:0;border-radius:8px;background-color:var(--accent);color:#fff;box-shadow:0 3px 10px rgb(0 0 0/18%);display:inline-flex;align-items:center;justify-content:center;gap:8px;white-space:nowrap;position:relative;overflow:hidden}input[type=button]{min-height:44px;min-width:44px}button:not(.icon-button):hover,input[type=button]:hover{background-color:var(--accent);color:#fff;transform:translateY(-1px);box-shadow:none;filter:none;cursor:pointer}button:not(.icon-button):active,input[type=button]:active{transform:translateY(-1px) scale(.98);box-shadow:0 3px 8px rgb(0 0 0/25%)}button:focus,input[type=button]:focus{outline:3px solid rgb(124 108 255/60%);outline-offset:3px;box-shadow:0 2px 8px rgb(0 0 0/20%),0 0 0 4px rgb(124 108 255/25%)}button:disabled,input[type=button]:disabled{opacity:.55;cursor:not-allowed;transform:none!important;box-shadow:0 2px 5px rgb(0 0 0/10%);background-color:#a0a0a0;color:#777}body.light-theme button,body.light-theme input[type=button],html.light-theme button,html.light-theme input[type=button]{background-color:#6b6bf0;color:#fff;box-shadow:0 2px 8px rgb(0 0 0/15%)}body.light-theme button:hover,body.light-theme input[type=button]:hover,html.light-theme button:hover,html.light-theme input[type=button]:hover{box-shadow:0 6px 16px rgb(0 0 0/20%)}body.light-theme button:focus,body.light-theme input[type=button]:focus,html.light-theme button:focus,html.light-theme input[type=button]:focus{outline:3px solid rgb(107 107 240/50%)}#charms-reset,button.primary,input[type=button].primary{background-color:var(--accent);color:#fff}#profile-overwrite,button.secondary,input[type=button].secondary{background-color:var(--muted);color:var(--text);border:1px solid rgb(255 255 255/10%)}#profile-delete:hover,#profile-overwrite:hover,button.danger:hover,button.secondary:hover,input[type=button].danger:hover,input[type=button].secondary:hover{background-color:var(--accent);color:#fff;transform:translateY(-1px);box-shadow:none}#profile-delete,button.danger,input[type=button].danger{background-color:#ff6b6b;color:#fff}#profile-delete:hover,button.danger:hover,input[type=button].danger:hover{filter:none}#profile-delete:active,button.danger:active,input[type=button].danger:active{background-color:#f44;transform:translateY(-1px) scale(.98);box-shadow:0 3px 8px rgb(0 0 0/25%)}body.light-theme #profile-overwrite,body.light-theme button.secondary,body.light-theme input[type=button].secondary,html.light-theme #profile-overwrite,html.light-theme button.secondary,html.light-theme input[type=button].secondary{background-color:#e9e9ee;color:#111;border:1px solid #dcdde6}body.light-theme #profile-overwrite:hover,body.light-theme button.secondary:hover,body.light-theme input[type=button].secondary:hover,html.light-theme #profile-overwrite:hover,html.light-theme button.secondary:hover,html.light-theme input[type=button].secondary:hover{background-color:#6b6bf0;color:#fff;transform:translateY(-1px)}body.light-theme #profile-delete,body.light-theme button.danger,body.light-theme input[type=button].danger,html.light-theme #profile-delete,html.light-theme button.danger,html.light-theme input[type=button].danger{background-color:#ff6b6b;color:#fff}select:focus{outline:3px solid rgb(124 108 255/30%);outline-offset:2px;box-shadow:0 0 0 1px rgb(124 108 255/10%)}html.light-theme input:focus,html.light-theme select:focus{outline:3px solid rgb(107 107 240/30%)}select option:disabled{color:#666;opacity:.6;background:rgba(255,0,0,.1)}html.light-theme select option:disabled{color:#ccc;opacity:.7;background:rgba(200,0,0,.08)}input:focus{outline:3px solid rgb(124 108 255/30%);outline-offset:2px}.calculation-input{padding:8px;border-radius:8px;border:1px solid var(--border)}.calculation-input,.calculation-output{margin:12px;box-sizing:border-box;background:var(--card)}.calculation-input{display:block;width:calc(100% - 24px)}.calculation-input button:not(.icon-button),.calculation-input input[type=number],.calculation-input input[type=text],.calculation-input select{min-height:36px;padding:6px 8px;font-size:.95em}.main-layout-wrapper{display:grid;grid-template-columns:1fr 1fr;gap:16px;align-items:start}.left-column{display:flex;flex-direction:column;gap:12px}.equipment-grid{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,auto);gap:12px;width:100%}.equipment-section{background:var(--panel);padding:10px;border-radius:8px;border:1px solid var(--border);display:flex;flex-direction:column;gap:6px}.equipment-grid>.equipment-section:nth-of-type(1){grid-column:1;grid-row:1}.equipment-grid>.equipment-section:nth-of-type(2){grid-column:2;grid-row:1}.equipment-grid>.equipment-section:nth-of-type(3){grid-column:3;grid-row:1}.equipment-grid>.equipment-section:nth-of-type(4){grid-column:1;grid-row:2}.equipment-grid>.equipment-section:nth-of-type(5){grid-column:2;grid-row:2}.equipment-grid>.equipment-section:nth-of-type(6){grid-column:3;grid-row:2}.equipment-section h3{margin:0;padding:0 0 4px;font-size:.95em;border-bottom:1px solid var(--border);justify-content:flex-start}.batch-controls-row,.charm-row{display:flex;align-items:center;gap:6px;padding:4px 6px;border-radius:4px}.batch-controls-row{background:var(--muted)}.batch-controls-row .badge{background:var(--muted);color:var(--muted-text);padding:2px 6px;border-radius:3px;font-size:.8em;font-weight:600;border:1px solid var(--border)}.batch-controls-row .batch-inline{display:flex;align-items:center;gap:6px;flex:1}.batch-controls-row .batch-inline label{font-size:.85em;color:var(--muted-text);margin:0}.batch-controls-row .batch-inline select{flex:1;padding:4px;border-radius:4px;background:var(--bg);color:var(--text);border:1px solid var(--border);font-size:.9em}.charm-row{background:var(--card)}.charm-row>label:first-child{min-width:60px;font-weight:500;font-size:.9em}.charm-inputs,.gear-item-row{display:flex;align-items:center;gap:6px}.charm-inputs{flex:1}.charm-inputs label,.gear-item-row label{font-size:.8em;color:var(--muted-text);min-width:40px}.charm-inputs select,.gear-item-row select{flex:1;padding:4px 6px;border-radius:4px;background:var(--muted);font-size:.9em}.gear-item-row{padding:4px 6px;background:var(--card);border-radius:4px;margin-top:6px}.gear-item-row label{min-width:45px}.charm-inputs select,.gear-item-row select,.table .batch-select,input{color:var(--text);border:1px solid var(--border)}input{padding:8px 10px;border-radius:6px;font-size:1em;font-family:inherit;background-color:var(--muted);transition:background-color 150ms ease,border-color 150ms ease}.table{display:flex;justify-content:flex-start;flex-direction:column;gap:8px}.table .batch-select{width:100%;padding:8px;border-radius:8px;background:var(--muted)}.table-top{display:flex;justify-content:space-between;align-items:center;gap:12px;width:100%}.col-dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:8px;vertical-align:middle}.res-guides{background:#ffd166}.res-designs{background:#6ad29a}.res-secrets{background:#7c6cff}.batch-inline{display:flex;gap:6px;align-items:center}.batch-inline .batch-select{width:84px}.inner-selection{display:flex;justify-content:flex-start;flex-direction:row;gap:.15em}.batch-controls,.building-header{display:flex;align-items:center;gap:10px}.building-header .building-icon{width:24px;height:24px;object-fit:contain;filter:drop-shadow(0 1px 1px var(--shadow))}.batch-controls{flex-direction:column;gap:4px;margin:0 0 8px;padding:8px;border-radius:6px;background:var(--card);border:1px solid var(--border)}.batch-controls h3{margin:0 0 4px;font-size:1em}.batch-controls .batch-row{display:flex;gap:8px;align-items:center;width:100%;max-width:1100px;justify-content:space-between;flex-wrap:wrap}.batch-controls #charms-reset{font-size:.95em;padding:9px 14px}.batch-help{margin:0;font-size:.9em;color:var(--muted-text);text-align:center;line-height:1.35}html.light-theme .batch-help{color:rgb(0 0 0/70%)}.batch-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;align-items:center}.batch-item{display:flex;flex-direction:column;gap:4px;background:var(--card);padding:6px 8px;border-radius:8px}.batch-item label{font-weight:700;color:var(--text);text-transform:capitalize;font-size:.95em}.batch-select{width:100%;padding:8px;border-radius:6px;background:var(--panel);color:var(--text);border:1px solid var(--muted)}html.light-theme .batch-controls #charms-reset{background-color:#e9e9ee;color:#111;border:1px solid #ddd}html.light-theme .batch-item{background:rgb(0 0 0/2%)}.profiles,.profiles input[type=text]{padding:6px 8px;border:1px solid var(--border)}.profiles,.profiles-row{display:flex;align-items:center}.profiles{margin:8px 12px;border-radius:8px;background:var(--card);flex-direction:row;gap:12px}.profiles h3{margin:0;color:var(--text);font-size:1.1em;flex-shrink:0}.profiles-row{gap:10px;margin-bottom:0;justify-content:center;flex-wrap:wrap;flex:1}.profiles input[type=text]{border-radius:6px;min-width:180px;background-color:var(--muted);color:var(--text);font-size:.9em;transition:all 150ms ease;height:36px;line-height:1}.profiles input[type=text]:focus{outline:2px solid var(--accent);outline-offset:2px;background-color:var(--panel)}.profiles .profiles-list{padding:6px 36px 6px 8px;border-radius:6px;min-width:180px;background:var(--panel);color:var(--text);border:1px solid var(--muted);font-size:.9em;cursor:pointer;height:36px}.input-with-icon,.select-with-icon{position:relative;display:inline-flex;align-items:center;overflow:hidden;border-radius:6px}.input-with-icon input{padding-right:36px}.input-with-icon .icon-button,.select-with-icon .icon-button{position:absolute;right:6px;top:50%;transform:translateY(-50%);background:0 0;border:0;color:var(--text);cursor:pointer;padding:0;font-size:.9em;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background-color 150ms ease,color 150ms ease;min-width:auto;min-height:auto;height:28px;width:28px;margin:0;line-height:1;z-index:2;pointer-events:auto}.input-with-icon .icon-button:hover,.select-with-icon .icon-button:hover{background:0 0;color:var(--accent);transform:translateY(-50%)}.input-with-icon .icon-button:focus,.select-with-icon .icon-button:focus{outline:3px solid rgb(124 108 255/60%);outline-offset:2px}.profiles-help{font-size:.9em;color:var(--muted-text);margin:0;text-align:center;line-height:1.4}html.light-theme .profiles input[type=text]{background-color:var(--muted);color:var(--text);border:1px solid var(--border)}html.light-theme .profiles input[type=text]:focus{background-color:var(--panel);outline-color:var(--accent)}html:not(.light-theme) .profiles input[type=text]{background-color:var(--muted);color:var(--text);border:1px solid var(--border)}.batch-controls button,.profiles-row button{flex:0 1 auto;min-width:96px;margin:2px}.profiles-row button:not(:last-child){margin-right:6px}.profiles-row button{padding:6px 10px;min-height:36px;line-height:1;font-size:.9em;border-radius:6px}.profiles-row button:not(.icon-button):hover{transform:translateY(-1px);box-shadow:none;filter:none}.profiles.stacked{flex-direction:column;align-items:flex-start}.profiles.stacked .profiles-row{flex-direction:column;align-items:stretch;justify-content:flex-start;gap:8px;width:100%}.profiles.stacked .input-with-icon,.profiles.stacked .select-with-icon,.results-section #results-display{width:100%}.profiles.stacked .profiles-list,.profiles.stacked input[type=text]{width:100%;box-sizing:border-box}.profiles.stacked button.icon-button{align-self:flex-end}@media (max-width:768px){.profiles-row{gap:6px}.profiles .profiles-list,.profiles input[type=text]{min-width:150px;font-size:.9em}.profiles-row button{min-width:80px;padding:8px 12px;font-size:.85em}}.calculation-output{background:var(--panel);padding:12px;border-radius:8px;border:1px solid var(--border);display:flex;flex-direction:column;gap:8px;position:static;top:auto;max-height:none;overflow:visible}.calculation-output h2{margin:0;padding:0 0 6px;font-size:1.15em;border-bottom:2px solid var(--border)}.result-totals{display:flex;flex-direction:column;gap:6px;align-items:stretch}.result-totals .total-line{padding:6px 10px;background:var(--card);border-radius:6px;border:1px solid var(--border)}.result-totals .total-line p{margin:0}.gap-line{margin-top:4px;font-size:.9em;display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:6px;border:1px solid transparent}.gap-line.deficit{color:var(--danger);background:rgba(255,123,123,.15);border-color:rgba(255,123,123,.35);font-weight:600}.gap-line.surplus{color:var(--success);background:rgba(106,210,154,.15);border-color:rgba(106,210,154,.35);font-weight:600}.result-totals .summary-pill{border:1px solid var(--border);border-radius:6px;padding:6px 10px;margin:0}.results-wrap{overflow-x:auto;overflow-y:visible;border-radius:8px;background:var(--card);padding:10px;border:1px solid var(--border);max-height:none}.results-table td,.results-table th{padding:4px 6px;text-align:left;border-bottom:1px solid var(--border);font-size:.9em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width:1200px){.main-layout-wrapper{grid-template-columns:1fr}.calculation-output{position:static;max-height:none}.result-totals{flex-direction:row;flex-wrap:wrap;justify-content:center}}@media (max-width:900px){.equipment-grid{grid-template-columns:repeat(2,1fr)}.equipment-grid>.equipment-section:nth-of-type(1){grid-column:1;grid-row:1}.equipment-grid>.equipment-section:nth-of-type(2){grid-column:2;grid-row:1}.equipment-grid>.equipment-section:nth-of-type(3){grid-column:1;grid-row:2}.equipment-grid>.equipment-section:nth-of-type(4){grid-column:2;grid-row:2}.equipment-grid>.equipment-section:nth-of-type(5){grid-column:1;grid-row:3}.equipment-grid>.equipment-section:nth-of-type(6){grid-column:2;grid-row:3}}@media (max-width:768px){.equipment-grid{grid-template-columns:1fr}.equipment-grid>.equipment-section{grid-column:1;grid-row:auto}}.gear-input-section{margin:20px}.gear-grid-two-columns{display:grid;grid-template-columns:1fr 1fr;gap:20px;max-width:1400px;margin:0 auto}.gear-column{display:flex;flex-direction:column;gap:16px}.gear-card{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:16px;box-shadow:0 2px 4px var(--shadow)}.gear-card h4{margin:0 0 12px;padding:0;color:var(--accent);font-size:1.1em;justify-content:flex-start}.gear-selects{display:flex;gap:8px;flex-wrap:wrap}.gear-selects>div{flex:1;min-width:120px}.gear-selects label{display:block;margin-bottom:4px;color:var(--muted-text);font-size:.85em}.gear-selects select,.inventory-item input{width:100%;padding:6px;background:var(--muted);color:var(--text);border:1px solid var(--border);border-radius:4px;font-size:.9em}.inventory-profiles-row{display:flex;align-items:stretch;gap:12px;margin:8px 12px}.inventory-profiles-row .inventory-section,.inventory-profiles-row .profiles{margin:0;align-self:stretch}.inventory-profiles-row .inventory-section{flex:2 1 0}.inventory-profiles-row .profiles{flex:1 1 0;min-width:360px}.inventory-profiles-row .inventory-section{order:1}.inventory-profiles-row .profiles{order:2}.inventory-section{margin:8px 12px;padding:8px 10px;background:var(--card);border:1px solid var(--border);border-radius:8px}.inventory-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px}.inventory-section.compact h3{margin:0 0 8px}.inventory-grid.compact{grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}@media (min-width:1100px){.inventory-grid.compact{grid-template-columns:repeat(4,minmax(0,1fr))}}.inventory-grid.compact .inventory-item{flex-direction:row;align-items:center;justify-content:space-between}.inventory-grid.compact .inventory-item input[type=number]{width:110px;max-width:45%;text-align:right}.results-table{width:100%;border-collapse:collapse;background:var(--panel);table-layout:fixed}.inventory-inputs{display:flex;align-items:center;gap:8px;flex:1;justify-content:center;flex-wrap:nowrap}.inventory-item{display:flex;flex-direction:column;align-items:center;gap:6px}.inventory-item label{margin:0;color:var(--text);font-size:1em;white-space:nowrap}.inventory-item input{width:70px;padding:8px;font-size:.95em}@media (max-width:900px){.inventory-profiles-row,.inventory-row{flex-direction:column}.inventory-row{align-items:stretch}.inventory-inputs{justify-content:space-around}}.label-with-icon{display:inline-flex;align-items:center;gap:6px}.res-icon{width:16px;height:16px;object-fit:contain;filter:drop-shadow(0 1px 1px var(--shadow))}.results-section{margin:20px;padding:20px;background:var(--panel);border:1px solid var(--border);border-radius:8px;min-height:200px}.results-section h3{margin-top:0;margin-bottom:16px;color:var(--text);font-size:1.3em}.totals-summary{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-bottom:16px}.buildings-section,.totals-summary .total-item{background:var(--panel);border:1px solid var(--border)}.totals-summary .total-item{border-radius:8px;padding:10px 12px;display:flex;flex-direction:column;gap:6px;text-align:center}.totals-summary .resource-label{color:var(--muted-text);font-size:.95em}.totals-summary .resource-value{font-weight:700;font-size:1.05em}.results-section #results-display .gap.deficit,.totals-summary .gap.deficit{color:var(--danger);font-weight:600}.results-section #results-display .gap.surplus,.totals-summary .gap.surplus{color:var(--success);font-weight:600}.buildings-section{margin:12px 20px 20px;padding:16px;border-radius:10px}.results-section .results-wrap{margin-left:0;margin-right:0;width:100%}.results-section #results-display .results-wrap{grid-column:1/-1}.results-section .results-table td:nth-child(1),.results-section .results-table th:nth-child(1){width:18%}.results-section .results-table td:nth-child(2),.results-section .results-table td:nth-child(3),.results-section .results-table th:nth-child(2),.results-section .results-table th:nth-child(3){width:8%}.results-section .results-table td:nth-child(4),.results-section .results-table td:nth-child(5),.results-section .results-table td:nth-child(6),.results-section .results-table td:nth-child(7),.results-section .results-table td:nth-child(8),.results-section .results-table td:nth-child(9),.results-section .results-table th:nth-child(4),.results-section .results-table th:nth-child(5),.results-section .results-table th:nth-child(6),.results-section .results-table th:nth-child(7),.results-section .results-table th:nth-child(8),.results-section .results-table th:nth-child(9){width:8.5%}.results-section .results-table td:nth-child(10),.results-section .results-table th:nth-child(10){width:15%;min-width:130px;overflow:visible;text-overflow:clip;white-space:nowrap}.fc-two-column{display:grid;grid-template-columns:5fr 6fr;gap:16px;align-items:start;margin:12px 20px}.fc-two-column .buildings-section,.fc-two-column .results-section{margin:0}.fc-two-column .results-section{padding:12px;position:sticky;top:12px;max-height:calc(100vh - 160px);overflow:auto}.results-section #results-display{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;align-items:start}.results-section #results-display .total-item{background:var(--panel);border:1px solid var(--border);border-radius:8px;padding:10px 12px;display:flex;flex-direction:column;gap:6px;text-align:center}.results-section #results-display .resource-label{color:var(--muted-text);font-size:.95em}.results-section #results-display .resource-value{font-weight:700;font-size:1.05em}@media (max-width:1200px){.results-section #results-display{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width:700px){.results-section #results-display{grid-template-columns:1fr}}@media (max-width:1200px){.fc-two-column{grid-template-columns:1fr}.fc-two-column .results-section{position:static;max-height:none}}.results-container{margin-top:12px}.results-container h2{margin-top:8px;margin-bottom:12px}.time-section{margin-top:16px;padding-top:16px;border-top:2px solid var(--border)}.building-card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:8px;box-shadow:0 4px 12px var(--shadow);text-align:center;min-width:0;display:flex;flex-direction:column}.building-main{border:1px solid var(--accent)}.building-selects{display:grid;grid-template-columns:repeat(2,1fr);gap:6px;align-items:start;width:100%}.select-group{background:var(--panel);border:1px solid var(--border);border-radius:8px;padding:8px;width:100%;min-width:0;box-sizing:border-box}.select-group label{display:block;margin-bottom:6px;color:var(--muted-text);text-align:center}.buildings-grid{margin-top:8px;display:grid;grid-auto-flow:column;grid-template-rows:repeat(3,auto);grid-auto-columns:1fr;gap:12px;width:100%}.building-select{width:100%;text-align-last:center}.building-breakdown{grid-column:1/-1;margin-top:20px;padding-top:16px;border-top:2px solid var(--border)}.building-breakdown h3{margin-top:0;margin-bottom:12px}.breakdown-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}.building-result-compact{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:8px 10px;font-size:.9em}.building-result-compact strong{display:block;margin-bottom:4px;color:var(--accent);font-size:.95em}.compact-line{display:flex;align-items:center;gap:4px;margin:2px 0;font-size:.85em}.compact-line .res-icon{width:14px;height:14px}@media (max-width:1200px){.buildings-grid{grid-auto-flow:row;grid-template-rows:none;grid-template-columns:repeat(2,1fr);gap:16px}}@media (max-width:900px){.building-selects{grid-template-columns:1fr}.buildings-grid{grid-auto-flow:row;grid-template-rows:none;gap:12px}.buildings-grid,.gear-grid-two-columns{grid-template-columns:1fr}}@media (max-width:600px){.gear-selects{flex-direction:column}.gear-selects>div{min-width:100%}.inventory-grid{grid-template-columns:1fr}.profiles{flex-direction:column;align-items:flex-start}.profiles h3{margin-bottom:8px}}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch;margin:12px 0}.table-responsive table{min-width:600px}.dark-mode-toggle,button,input[type=number],select{min-height:44px;min-width:44px}@media (max-width:480px){.main-nav{flex-wrap:wrap;gap:8px}.main-nav a{padding:10px 12px;font-size:.9em}h1{font-size:1.5em}.introduction{margin:12px;padding:16px}}.modal-overlay{position:fixed;inset:0;background:rgb(0 0 0/55%);display:flex;align-items:center;justify-content:center;z-index:9999}.modal-actions .btn.secondary,.modal-dialog{color:var(--text);border:1px solid var(--border)}.modal-dialog{background:var(--panel);border-radius:10px;box-shadow:0 12px 36px var(--shadow);width:min(520px,calc(100% - 32px));padding:14px 16px}.modal-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}.modal-title{margin:0;font-size:1.05em;justify-content:flex-start}.modal-body{font-size:.95em;color:var(--text)}.modal-body .warning{color:var(--danger);font-weight:600}.modal-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:14px}.modal-actions .btn{padding:8px 12px;border-radius:8px;font:inherit;cursor:pointer;border:0}.modal-actions .btn.secondary{background:var(--muted)}.modal-actions .btn.danger:hover,.modal-actions .btn.secondary:hover{background:var(--accent);color:#fff;transform:translateY(-1px)}.modal-actions .btn.danger{background:#ff6b6b;color:#fff} .header-with-nav{flex-wrap:wrap;gap:12px}.nav-toggle{display:none;background:transparent;border:1px solid var(--border);color:var(--text);font-size:1.4rem;padding:8px 10px;border-radius:6px}.main-nav{display:flex;align-items:center;flex:1;gap:12px}.nav-links{display:flex;gap:12px;flex-wrap:wrap;align-items:center}.nav-actions{display:flex;gap:10px;margin-left:auto;align-items:center}@media (max-width:900px){.nav-toggle{display:inline-flex;align-items:center;justify-content:center}.main-nav{width:100%;flex-direction:column;align-items:flex-start;gap:0;display:none}.main-nav.is-open,.header-with-nav.nav-open .main-nav,body.nav-open .main-nav{display:flex}.nav-links{flex-direction:column;width:100%}.nav-links a{width:100%;padding:10px 0;border-bottom:1px solid var(--border)}.nav-actions{width:100%;justify-content:space-between;padding:8px 0}.header-with-nav{align-items:flex-start}}.table-responsive{overflow-x:auto;width:100%}.table-responsive table{width:100%;min-width:600px}@media (max-width:1024px){.inventory-profiles-row{flex-direction:column}.profiles-row{flex-direction:column;align-items:stretch}.profiles.stacked .profiles-row{align-items:stretch}.profiles .profiles-list,.profiles input[type=text]{width:100%}.fc-two-column,.buildings-section,.results-section{width:100%}.buildings-grid{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}}@media (max-width:768px){body{padding:0 10px}.inventory-section,.profiles{width:100%}.fc-two-column{flex-direction:column;gap:16px}.buildings-grid{grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}.calculation-input,.calculation-output{padding:12px}.main-layout-wrapper{flex-direction:column}}@media (max-width:480px){.nav-actions{flex-direction:column;align-items:flex-start}.main-layout-wrapper{gap:12px}.profiles-row button,.profiles-row input,.profiles-row select{width:100%}.inventory-grid{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
